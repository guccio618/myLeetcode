import java.util.Arrays;
import java.util.Comparator;
import java.util.PriorityQueue;


public class P1_Kclose {
	public Cpoint[] findKClose_Heap(Cpoint[] list, int k) {
		if (list == null || list.length == 0 || k <= 0) {
			return new Cpoint[0];
		} else if (k >= list.length) {
			return list;
		}

		Cpoint[] res = new Cpoint[k];
		
		PriorityQueue<Cpoint> maxHeap = new PriorityQueue<>(k, new Comparator<Cpoint>() {
			@Override
			public int compare(Cpoint p1, Cpoint p2) {
				return -Double.compare(p1.x * p1.x + p1.y * p1.y, p2.x * p2.x + p2.y * p2.y);
			}
		});

		for (int i = 0; i < list.length; i++) {
			maxHeap.offer(list[i]);

			if (maxHeap.size() > k) {
				maxHeap.poll();
			}
		}

		for (int i = res.length - 1; i >= 0; i--) {
			res[i] = maxHeap.poll();
		}

		return res;
	}

	
	
	
	public Cpoint[] findKClose_Sort(Cpoint[] list, int k) {
		if (list == null || list.length == 0 || k <= 0) {
			return new Cpoint[0];
		} else if (k >= list.length) {
			return list;
		}
		
		myPoint[] array = new myPoint[list.length];
		
		for(int i = 0; i < list.length; i++) {
			array[i] = new myPoint(list[i]);
		}
				
		Arrays.sort(array, new Comparator<myPoint>() {
			@Override
			public int compare(myPoint p1, myPoint p2) {
				return Double.compare(p1.p.x * p1.p.x + p1.p.y * p1.p.y, p2.p.x * p2.p.x + p2.p.y * p2.p.y);
			}
		});
		
		Cpoint[] ans = new Cpoint[k];
		
		for(int i = 0; i < k; i++) {
			ans[i] = array[i].p;
		}
		
		return ans;
	}
		
	class myPoint {
		Cpoint p;

		public myPoint(Cpoint p) {
			this.p = p;
		}
	}
	
	
	/*******************************************/
	public static void main(String[] args) {
		P1_Kclose kclose = new P1_Kclose();
		Cpoint[] list = new Cpoint[7];
		
		for (int i = list.length - 1; i >= 0; i--) {
			list[i] = new Cpoint(-i, i);
		}

		Cpoint[] array = kclose.findKClose_Heap(list, 3);
		
		for(Cpoint p : array) {
			System.out.println(p.toString());
		}
		
		
		
//		Double a = (double) 3;
//		Double b = (double) 5;
//		System.out.println(Double.compare(a, b));
	}
}

class Cpoint {
	double x;
	double y;

	public Cpoint(double x, double y) {
		this.x = x;
		this.y = y;
	}

	@Override
	public String toString() {
		return "X: " + x + ", Y: " + y;
	}
}
